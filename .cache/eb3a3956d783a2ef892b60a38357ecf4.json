{"dependencies":[{"name":"babel-runtime/helpers/defineProperty","loc":{"line":1,"column":28}},{"name":"babel-runtime/helpers/extends","loc":{"line":2,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":3,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":4,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":5,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":6,"column":22}},{"name":"react","loc":{"line":7,"column":23}},{"name":"react-dom","loc":{"line":8,"column":26}},{"name":"classnames","loc":{"line":9,"column":23}},{"name":"rc-animate","loc":{"line":10,"column":20}},{"name":"rc-util/es/PureRenderMixin","loc":{"line":11,"column":28}},{"name":"../checkbox","loc":{"line":12,"column":21}},{"name":"./search","loc":{"line":13,"column":19}},{"name":"./item","loc":{"line":14,"column":17}},{"name":"../_util/triggerEvent","loc":{"line":15,"column":25}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require(\"babel-runtime/helpers/defineProperty\");\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require(\"react\");\n\nvar React = _interopRequireWildcard(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar ReactDOM = _interopRequireWildcard(_reactDom);\n\nvar _classnames = require(\"classnames\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _rcAnimate = require(\"rc-animate\");\n\nvar _rcAnimate2 = _interopRequireDefault(_rcAnimate);\n\nvar _PureRenderMixin = require(\"rc-util/es/PureRenderMixin\");\n\nvar _PureRenderMixin2 = _interopRequireDefault(_PureRenderMixin);\n\nvar _checkbox = require(\"../checkbox\");\n\nvar _checkbox2 = _interopRequireDefault(_checkbox);\n\nvar _search = require(\"./search\");\n\nvar _search2 = _interopRequireDefault(_search);\n\nvar _item = require(\"./item\");\n\nvar _item2 = _interopRequireDefault(_item);\n\nvar _triggerEvent = require(\"../_util/triggerEvent\");\n\nvar _triggerEvent2 = _interopRequireDefault(_triggerEvent);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction noop() {}\nfunction isRenderResultPlainObject(result) {\n  return result && !React.isValidElement(result) && Object.prototype.toString.call(result) === '[object Object]';\n}\n\nvar TransferList = function (_React$Component) {\n  (0, _inherits3.default)(TransferList, _React$Component);\n\n  function TransferList(props) {\n    (0, _classCallCheck3.default)(this, TransferList);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TransferList.__proto__ || Object.getPrototypeOf(TransferList)).call(this, props));\n\n    _this.handleSelect = function (selectedItem) {\n      var checkedKeys = _this.props.checkedKeys;\n\n      var result = checkedKeys.some(function (key) {\n        return key === selectedItem.key;\n      });\n      _this.props.handleSelect(selectedItem, !result);\n    };\n    _this.handleFilter = function (e) {\n      _this.props.handleFilter(e);\n      if (!e.target.value) {\n        return;\n      }\n      // Manually trigger scroll event for lazy search bug\n      // https://github.com/ant-design/ant-design/issues/5631\n      _this.triggerScrollTimer = window.setTimeout(function () {\n        var listNode = ReactDOM.findDOMNode(_this).querySelectorAll('.ant-transfer-list-content')[0];\n        if (listNode) {\n          (0, _triggerEvent2.default)(listNode, 'scroll');\n        }\n      }, 0);\n    };\n    _this.handleClear = function () {\n      _this.props.handleClear();\n    };\n    _this.matchFilter = function (text, item) {\n      var _this$props = _this.props,\n          filter = _this$props.filter,\n          filterOption = _this$props.filterOption;\n\n      if (filterOption) {\n        return filterOption(filter, item);\n      }\n      return text.indexOf(filter) >= 0;\n    };\n    _this.renderItem = function (item) {\n      var _this$props$render = _this.props.render,\n          render = _this$props$render === undefined ? noop : _this$props$render;\n\n      var renderResult = render(item);\n      var isRenderResultPlain = isRenderResultPlainObject(renderResult);\n      return {\n        renderedText: isRenderResultPlain ? renderResult.value : renderResult,\n        renderedEl: isRenderResultPlain ? renderResult.label : renderResult\n      };\n    };\n    _this.state = {\n      mounted: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(TransferList, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.timer = window.setTimeout(function () {\n        _this2.setState({\n          mounted: true\n        });\n      }, 0);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.timer);\n      clearTimeout(this.triggerScrollTimer);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _PureRenderMixin2.default.shouldComponentUpdate.apply(this, args);\n    }\n  }, {\n    key: 'getCheckStatus',\n    value: function getCheckStatus(filteredDataSource) {\n      var checkedKeys = this.props.checkedKeys;\n\n      if (checkedKeys.length === 0) {\n        return 'none';\n      } else if (filteredDataSource.every(function (item) {\n        return checkedKeys.indexOf(item.key) >= 0;\n      })) {\n        return 'all';\n      }\n      return 'part';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          dataSource = _props.dataSource,\n          titleText = _props.titleText,\n          checkedKeys = _props.checkedKeys,\n          lazy = _props.lazy,\n          _props$body = _props.body,\n          body = _props$body === undefined ? noop : _props$body,\n          _props$footer = _props.footer,\n          footer = _props$footer === undefined ? noop : _props$footer,\n          showSearch = _props.showSearch,\n          style = _props.style,\n          filter = _props.filter,\n          searchPlaceholder = _props.searchPlaceholder,\n          notFoundContent = _props.notFoundContent,\n          itemUnit = _props.itemUnit,\n          itemsUnit = _props.itemsUnit,\n          onScroll = _props.onScroll;\n      // Custom Layout\n\n      var footerDom = footer((0, _extends3.default)({}, this.props));\n      var bodyDom = body((0, _extends3.default)({}, this.props));\n      var listCls = (0, _classnames2.default)(prefixCls, (0, _defineProperty3.default)({}, prefixCls + '-with-footer', !!footerDom));\n      var filteredDataSource = [];\n      var totalDataSource = [];\n      var showItems = dataSource.map(function (item) {\n        var _renderItem = _this3.renderItem(item),\n            renderedText = _renderItem.renderedText,\n            renderedEl = _renderItem.renderedEl;\n\n        if (filter && filter.trim() && !_this3.matchFilter(renderedText, item)) {\n          return null;\n        }\n        // all show items\n        totalDataSource.push(item);\n        if (!item.disabled) {\n          // response to checkAll items\n          filteredDataSource.push(item);\n        }\n        var checked = checkedKeys.indexOf(item.key) >= 0;\n        return React.createElement(_item2.default, { key: item.key, item: item, lazy: lazy, renderedText: renderedText, renderedEl: renderedEl, checked: checked, prefixCls: prefixCls, onClick: _this3.handleSelect });\n      });\n      var unit = dataSource.length > 1 ? itemsUnit : itemUnit;\n      var search = showSearch ? React.createElement('div', { className: prefixCls + '-body-search-wrapper' }, React.createElement(_search2.default, { prefixCls: prefixCls + '-search', onChange: this.handleFilter, handleClear: this.handleClear, placeholder: searchPlaceholder, value: filter })) : null;\n      var listBody = bodyDom || React.createElement('div', { className: showSearch ? prefixCls + '-body ' + prefixCls + '-body-with-search' : prefixCls + '-body' }, search, React.createElement(_rcAnimate2.default, { component: 'ul', componentProps: { onScroll: onScroll }, className: prefixCls + '-content', transitionName: this.state.mounted ? prefixCls + '-content-item-highlight' : '', transitionLeave: false }, showItems), React.createElement('div', { className: prefixCls + '-body-not-found' }, notFoundContent));\n      var listFooter = footerDom ? React.createElement('div', { className: prefixCls + '-footer' }, footerDom) : null;\n      var checkStatus = this.getCheckStatus(filteredDataSource);\n      var checkedAll = checkStatus === 'all';\n      var checkAllCheckbox = React.createElement(_checkbox2.default, { ref: 'checkbox', checked: checkedAll, indeterminate: checkStatus === 'part', onChange: function onChange() {\n          return _this3.props.handleSelectAll(filteredDataSource, checkedAll);\n        } });\n      return React.createElement('div', { className: listCls, style: style }, React.createElement('div', { className: prefixCls + '-header' }, checkAllCheckbox, React.createElement('span', { className: prefixCls + '-header-selected' }, React.createElement('span', null, (checkedKeys.length > 0 ? checkedKeys.length + '/' : '') + totalDataSource.length, ' ', unit), React.createElement('span', { className: prefixCls + '-header-title' }, titleText))), listBody, listFooter);\n    }\n  }]);\n\n  return TransferList;\n}(React.Component);\n\nexports.default = TransferList;\n\n\nTransferList.defaultProps = {\n  dataSource: [],\n  titleText: '',\n  showSearch: false,\n  render: noop,\n  lazy: {}\n};"},"hash":"b178aef42cd05b90391acd943ba3ec1b"}
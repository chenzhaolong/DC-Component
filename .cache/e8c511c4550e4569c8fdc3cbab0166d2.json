{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":18}},{"name":"prop-types","loc":{"line":6,"column":22}},{"name":"mini-store","loc":{"line":7,"column":24}},{"name":"./ColGroup","loc":{"line":8,"column":21}},{"name":"./TableHeader","loc":{"line":9,"column":24}},{"name":"./TableRow","loc":{"line":10,"column":21}},{"name":"./ExpandableRow","loc":{"line":11,"column":26}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _miniStore = require(\"mini-store\");\n\nvar _ColGroup = require(\"./ColGroup\");\n\nvar _ColGroup2 = _interopRequireDefault(_ColGroup);\n\nvar _TableHeader = require(\"./TableHeader\");\n\nvar _TableHeader2 = _interopRequireDefault(_TableHeader);\n\nvar _TableRow = require(\"./TableRow\");\n\nvar _TableRow2 = _interopRequireDefault(_TableRow);\n\nvar _ExpandableRow = require(\"./ExpandableRow\");\n\nvar _ExpandableRow2 = _interopRequireDefault(_ExpandableRow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BaseTable = function (_React$Component) {\n  (0, _inherits3.default)(BaseTable, _React$Component);\n\n  function BaseTable() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, BaseTable);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleRowHover = function (isHover, key) {\n      _this.props.store.setState({\n        currentHoverKey: isHover ? key : null\n      });\n    }, _this.renderRows = function (renderData, indent) {\n      var ancestorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var table = _this.context.table;\n      var columnManager = table.columnManager,\n          components = table.components;\n      var _table$props = table.props,\n          prefixCls = _table$props.prefixCls,\n          childrenColumnName = _table$props.childrenColumnName,\n          rowClassName = _table$props.rowClassName,\n          rowRef = _table$props.rowRef,\n          onRowClick = _table$props.onRowClick,\n          onRowDoubleClick = _table$props.onRowDoubleClick,\n          onRowContextMenu = _table$props.onRowContextMenu,\n          onRowMouseEnter = _table$props.onRowMouseEnter,\n          onRowMouseLeave = _table$props.onRowMouseLeave,\n          onRow = _table$props.onRow;\n      var _this$props = _this.props,\n          getRowKey = _this$props.getRowKey,\n          fixed = _this$props.fixed,\n          expander = _this$props.expander;\n\n      var rows = [];\n\n      var _loop = function _loop(i) {\n        var record = renderData[i];\n        var key = getRowKey(record, i);\n        var className = typeof rowClassName === 'string' ? rowClassName : rowClassName(record, i, indent);\n\n        var onHoverProps = {};\n        if (columnManager.isAnyColumnsFixed()) {\n          onHoverProps.onHover = _this.handleRowHover;\n        }\n\n        var leafColumns = void 0;\n        if (fixed === 'left') {\n          leafColumns = columnManager.leftLeafColumns();\n        } else if (fixed === 'right') {\n          leafColumns = columnManager.rightLeafColumns();\n        } else {\n          leafColumns = columnManager.leafColumns();\n        }\n\n        var rowPrefixCls = prefixCls + '-row';\n\n        var row = _react2.default.createElement(_ExpandableRow2.default, (0, _extends3.default)({}, expander.props, {\n          fixed: fixed,\n          index: i,\n          prefixCls: rowPrefixCls,\n          record: record,\n          key: key,\n          rowKey: key,\n          onRowClick: onRowClick,\n          needIndentSpaced: expander.needIndentSpaced,\n          onExpandedChange: expander.handleExpandChange\n        }), function (expandableRow) {\n          return (// eslint-disable-line\n            _react2.default.createElement(_TableRow2.default, (0, _extends3.default)({\n              fixed: fixed,\n              indent: indent,\n              className: className,\n              record: record,\n              index: i,\n              prefixCls: rowPrefixCls,\n              childrenColumnName: childrenColumnName,\n              columns: leafColumns,\n              onRow: onRow,\n              onRowDoubleClick: onRowDoubleClick,\n              onRowContextMenu: onRowContextMenu,\n              onRowMouseEnter: onRowMouseEnter,\n              onRowMouseLeave: onRowMouseLeave\n            }, onHoverProps, {\n              rowKey: key,\n              ancestorKeys: ancestorKeys,\n              ref: rowRef(record, i, indent),\n              components: components\n            }, expandableRow))\n          );\n        });\n\n        rows.push(row);\n\n        expander.renderRows(_this.renderRows, rows, record, i, indent, fixed, key, ancestorKeys);\n      };\n\n      for (var i = 0; i < renderData.length; i++) {\n        _loop(i);\n      }\n      return rows;\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  BaseTable.prototype.render = function render() {\n    var table = this.context.table;\n    var components = table.components;\n    var _table$props2 = table.props,\n        prefixCls = _table$props2.prefixCls,\n        scroll = _table$props2.scroll,\n        data = _table$props2.data,\n        getBodyWrapper = _table$props2.getBodyWrapper;\n    var _props = this.props,\n        expander = _props.expander,\n        tableClassName = _props.tableClassName,\n        hasHead = _props.hasHead,\n        hasBody = _props.hasBody,\n        fixed = _props.fixed,\n        columns = _props.columns;\n\n    var tableStyle = {};\n\n    if (!fixed && scroll.x) {\n      // not set width, then use content fixed width\n      if (scroll.x === true) {\n        tableStyle.tableLayout = 'fixed';\n      } else {\n        tableStyle.width = scroll.x;\n      }\n    }\n\n    var Table = hasBody ? components.table : 'table';\n    var BodyWrapper = components.body.wrapper;\n\n    var body = void 0;\n    if (hasBody) {\n      body = _react2.default.createElement(BodyWrapper, { className: prefixCls + '-tbody' }, this.renderRows(data, 0));\n      if (getBodyWrapper) {\n        body = getBodyWrapper(body);\n      }\n    }\n\n    return _react2.default.createElement(Table, { className: tableClassName, style: tableStyle, key: 'table' }, _react2.default.createElement(_ColGroup2.default, { columns: columns, fixed: fixed }), hasHead && _react2.default.createElement(_TableHeader2.default, { expander: expander, columns: columns, fixed: fixed }), body);\n  };\n\n  return BaseTable;\n}(_react2.default.Component);\n\nBaseTable.propTypes = {\n  fixed: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.bool]),\n  columns: _propTypes2.default.array.isRequired,\n  tableClassName: _propTypes2.default.string.isRequired,\n  hasHead: _propTypes2.default.bool.isRequired,\n  hasBody: _propTypes2.default.bool.isRequired,\n  store: _propTypes2.default.object.isRequired,\n  expander: _propTypes2.default.object.isRequired,\n  getRowKey: _propTypes2.default.func\n};\nBaseTable.contextTypes = {\n  table: _propTypes2.default.any\n};\n\nexports.default = (0, _miniStore.connect)()(BaseTable);"},"hash":"8e0e040bdf48fbe6e1861d4412bf6de8"}
{"dependencies":[{"name":"babel-runtime/helpers/defineProperty","loc":{"line":1,"column":28}},{"name":"babel-runtime/helpers/extends","loc":{"line":2,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":3,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":4,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":5,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":6,"column":22}},{"name":"react","loc":{"line":7,"column":23}},{"name":"rc-animate","loc":{"line":8,"column":20}},{"name":"../icon","loc":{"line":9,"column":17}},{"name":"../tooltip","loc":{"line":10,"column":20}},{"name":"../progress","loc":{"line":11,"column":21}},{"name":"classnames","loc":{"line":12,"column":23}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require(\"babel-runtime/helpers/defineProperty\");\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require(\"react\");\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rcAnimate = require(\"rc-animate\");\n\nvar _rcAnimate2 = _interopRequireDefault(_rcAnimate);\n\nvar _icon = require(\"../icon\");\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _tooltip = require(\"../tooltip\");\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _progress = require(\"../progress\");\n\nvar _progress2 = _interopRequireDefault(_progress);\n\nvar _classnames = require(\"classnames\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\nvar previewFile = function previewFile(file, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function () {\n    return callback(reader.result);\n  };\n  reader.readAsDataURL(file);\n};\n\nvar UploadList = function (_React$Component) {\n  (0, _inherits3.default)(UploadList, _React$Component);\n\n  function UploadList() {\n    (0, _classCallCheck3.default)(this, UploadList);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (UploadList.__proto__ || Object.getPrototypeOf(UploadList)).apply(this, arguments));\n\n    _this.handleClose = function (file) {\n      var onRemove = _this.props.onRemove;\n\n      if (onRemove) {\n        onRemove(file);\n      }\n    };\n    _this.handlePreview = function (file, e) {\n      var onPreview = _this.props.onPreview;\n\n      if (!onPreview) {\n        return;\n      }\n      e.preventDefault();\n      return onPreview(file);\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(UploadList, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.props.listType !== 'picture' && this.props.listType !== 'picture-card') {\n        return;\n      }\n      (this.props.items || []).forEach(function (file) {\n        if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File) || file.thumbUrl !== undefined) {\n          return;\n        }\n        /*eslint-disable */\n        file.thumbUrl = '';\n        /*eslint-enable */\n        previewFile(file.originFileObj, function (previewDataUrl) {\n          /*eslint-disable */\n          file.thumbUrl = previewDataUrl;\n          /*eslint-enable */\n          _this2.forceUpdate();\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this,\n          _classNames2;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          _props$items = _props.items,\n          items = _props$items === undefined ? [] : _props$items,\n          listType = _props.listType,\n          showPreviewIcon = _props.showPreviewIcon,\n          showRemoveIcon = _props.showRemoveIcon,\n          locale = _props.locale;\n\n      var list = items.map(function (file) {\n        var _classNames;\n\n        var progress = void 0;\n        var icon = React.createElement(_icon2.default, { type: file.status === 'uploading' ? 'loading' : 'paper-clip' });\n        if (listType === 'picture' || listType === 'picture-card') {\n          if (file.status === 'uploading' || !file.thumbUrl && !file.url) {\n            if (listType === 'picture-card') {\n              icon = React.createElement('div', { className: prefixCls + '-list-item-uploading-text' }, locale.uploading);\n            } else {\n              icon = React.createElement(_icon2.default, { className: prefixCls + '-list-item-thumbnail', type: 'picture' });\n            }\n          } else {\n            icon = React.createElement('a', { className: prefixCls + '-list-item-thumbnail', onClick: function onClick(e) {\n                return _this3.handlePreview(file, e);\n              }, href: file.url || file.thumbUrl, target: '_blank', rel: 'noopener noreferrer' }, React.createElement('img', { src: file.thumbUrl || file.url, alt: file.name }));\n          }\n        }\n        if (file.status === 'uploading') {\n          // show loading icon if upload progress listener is disabled\n          var loadingProgress = 'percent' in file ? React.createElement(_progress2.default, (0, _extends3.default)({ type: 'line' }, _this3.props.progressAttr, { percent: file.percent })) : null;\n          progress = React.createElement('div', { className: prefixCls + '-list-item-progress', key: 'progress' }, loadingProgress);\n        }\n        var infoUploadingClass = (0, _classnames2.default)((_classNames = {}, (0, _defineProperty3.default)(_classNames, prefixCls + '-list-item', true), (0, _defineProperty3.default)(_classNames, prefixCls + '-list-item-' + file.status, true), _classNames));\n        var preview = file.url ? React.createElement('a', (0, _extends3.default)({}, file.linkProps, { href: file.url, target: '_blank', rel: 'noopener noreferrer', className: prefixCls + '-list-item-name', onClick: function onClick(e) {\n            return _this3.handlePreview(file, e);\n          }, title: file.name }), file.name) : React.createElement('span', { className: prefixCls + '-list-item-name', onClick: function onClick(e) {\n            return _this3.handlePreview(file, e);\n          }, title: file.name }, file.name);\n        var style = file.url || file.thumbUrl ? undefined : {\n          pointerEvents: 'none',\n          opacity: 0.5\n        };\n        var previewIcon = showPreviewIcon ? React.createElement('a', { href: file.url || file.thumbUrl, target: '_blank', rel: 'noopener noreferrer', style: style, onClick: function onClick(e) {\n            return _this3.handlePreview(file, e);\n          }, title: locale.previewFile }, React.createElement(_icon2.default, { type: 'eye-o' })) : null;\n        var removeIcon = showRemoveIcon ? React.createElement(_icon2.default, { type: 'delete', title: locale.removeFile, onClick: function onClick() {\n            return _this3.handleClose(file);\n          } }) : null;\n        var removeIconCross = showRemoveIcon ? React.createElement(_icon2.default, { type: 'cross', title: locale.removeFile, onClick: function onClick() {\n            return _this3.handleClose(file);\n          } }) : null;\n        var actions = listType === 'picture-card' && file.status !== 'uploading' ? React.createElement('span', { className: prefixCls + '-list-item-actions' }, previewIcon, removeIcon) : removeIconCross;\n        var message = void 0;\n        if (file.response && typeof file.response === 'string') {\n          message = file.response;\n        } else {\n          message = file.error && file.error.statusText || locale.uploadError;\n        }\n        var iconAndPreview = file.status === 'error' ? React.createElement(_tooltip2.default, { title: message }, icon, preview) : React.createElement('span', null, icon, preview);\n        return React.createElement('div', { className: infoUploadingClass, key: file.uid }, React.createElement('div', { className: prefixCls + '-list-item-info' }, iconAndPreview), actions, React.createElement(_rcAnimate2.default, { transitionName: 'fade', component: '' }, progress));\n      });\n      var listClassNames = (0, _classnames2.default)((_classNames2 = {}, (0, _defineProperty3.default)(_classNames2, prefixCls + '-list', true), (0, _defineProperty3.default)(_classNames2, prefixCls + '-list-' + listType, true), _classNames2));\n      var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate';\n      return React.createElement(_rcAnimate2.default, { transitionName: prefixCls + '-' + animationDirection, component: 'div', className: listClassNames }, list);\n    }\n  }]);\n\n  return UploadList;\n}(React.Component);\n\nexports.default = UploadList;\n\n\nUploadList.defaultProps = {\n  listType: 'text',\n  progressAttr: {\n    strokeWidth: 2,\n    showInfo: false\n  },\n  prefixCls: 'ant-upload',\n  showRemoveIcon: true,\n  showPreviewIcon: true\n};"},"hash":"e07df9944926447113799be58b286e22"}
{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/objectWithoutProperties","loc":{"line":2,"column":37}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":3,"column":28}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":4,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":5,"column":22}},{"name":"react","loc":{"line":7,"column":57}},{"name":"prop-types","loc":{"line":8,"column":22}},{"name":"react-dom","loc":{"line":9,"column":28}},{"name":"classnames","loc":{"line":10,"column":23}},{"name":"lodash.debounce","loc":{"line":11,"column":21}},{"name":"./utils","loc":{"line":12,"column":32}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require(\"babel-runtime/helpers/objectWithoutProperties\");\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _classnames = require(\"classnames\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lodash = require(\"lodash.debounce\");\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint react/no-did-mount-set-state: 0 */\nvar Steps = function (_Component) {\n  (0, _inherits3.default)(Steps, _Component);\n\n  function Steps(props) {\n    (0, _classCallCheck3.default)(this, Steps);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.calcStepOffsetWidth = function () {\n      if ((0, _utils.isFlexSupported)()) {\n        return;\n      }\n      // Just for IE9\n      var domNode = (0, _reactDom.findDOMNode)(_this);\n      if (domNode.children.length > 0) {\n        if (_this.calcTimeout) {\n          clearTimeout(_this.calcTimeout);\n        }\n        _this.calcTimeout = setTimeout(function () {\n          // +1 for fit edge bug of digit width, like 35.4px\n          var lastStepOffsetWidth = (domNode.lastChild.offsetWidth || 0) + 1;\n          // Reduce shake bug\n          if (_this.state.lastStepOffsetWidth === lastStepOffsetWidth || Math.abs(_this.state.lastStepOffsetWidth - lastStepOffsetWidth) <= 3) {\n            return;\n          }\n          _this.setState({ lastStepOffsetWidth: lastStepOffsetWidth });\n        });\n      }\n    };\n\n    _this.state = {\n      flexSupported: true,\n      lastStepOffsetWidth: 0\n    };\n    _this.calcStepOffsetWidth = (0, _lodash2.default)(_this.calcStepOffsetWidth, 150);\n    return _this;\n  }\n\n  Steps.prototype.componentDidMount = function componentDidMount() {\n    this.calcStepOffsetWidth();\n    if (!(0, _utils.isFlexSupported)()) {\n      this.setState({\n        flexSupported: false\n      });\n    }\n  };\n\n  Steps.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.calcStepOffsetWidth();\n  };\n\n  Steps.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.calcTimeout) {\n      clearTimeout(this.calcTimeout);\n    }\n    if (this.calcStepOffsetWidth && this.calcStepOffsetWidth.cancel) {\n      this.calcStepOffsetWidth.cancel();\n    }\n  };\n\n  Steps.prototype.render = function render() {\n    var _classNames;\n\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        _props$style = _props.style,\n        style = _props$style === undefined ? {} : _props$style,\n        className = _props.className,\n        children = _props.children,\n        direction = _props.direction,\n        labelPlacement = _props.labelPlacement,\n        iconPrefix = _props.iconPrefix,\n        status = _props.status,\n        size = _props.size,\n        current = _props.current,\n        progressDot = _props.progressDot,\n        restProps = (0, _objectWithoutProperties3.default)(_props, ['prefixCls', 'style', 'className', 'children', 'direction', 'labelPlacement', 'iconPrefix', 'status', 'size', 'current', 'progressDot']);\n\n    var _state = this.state,\n        lastStepOffsetWidth = _state.lastStepOffsetWidth,\n        flexSupported = _state.flexSupported;\n\n    var filteredChildren = _react2.default.Children.toArray(children).filter(function (c) {\n      return !!c;\n    });\n    var lastIndex = filteredChildren.length - 1;\n    var adjustedlabelPlacement = !!progressDot ? 'vertical' : labelPlacement;\n    var classString = (0, _classnames2.default)(prefixCls, prefixCls + '-' + direction, className, (_classNames = {}, _classNames[prefixCls + '-' + size] = size, _classNames[prefixCls + '-label-' + adjustedlabelPlacement] = direction === 'horizontal', _classNames[prefixCls + '-dot'] = !!progressDot, _classNames));\n\n    return _react2.default.createElement('div', (0, _extends3.default)({ className: classString, style: style }, restProps), _react.Children.map(filteredChildren, function (child, index) {\n      if (!child) {\n        return null;\n      }\n      var childProps = (0, _extends3.default)({\n        stepNumber: '' + (index + 1),\n        prefixCls: prefixCls,\n        iconPrefix: iconPrefix,\n        wrapperStyle: style,\n        progressDot: progressDot\n      }, child.props);\n      if (!flexSupported && direction !== 'vertical' && index !== lastIndex) {\n        childProps.itemWidth = 100 / lastIndex + '%';\n        childProps.adjustMarginRight = -Math.round(lastStepOffsetWidth / lastIndex + 1);\n      }\n      // fix tail color\n      if (status === 'error' && index === current - 1) {\n        childProps.className = prefixCls + '-next-error';\n      }\n      if (!child.props.status) {\n        if (index === current) {\n          childProps.status = status;\n        } else if (index < current) {\n          childProps.status = 'finish';\n        } else {\n          childProps.status = 'wait';\n        }\n      }\n      return (0, _react.cloneElement)(child, childProps);\n    }));\n  };\n\n  return Steps;\n}(_react.Component);\n\nSteps.propTypes = {\n  prefixCls: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  iconPrefix: _propTypes2.default.string,\n  direction: _propTypes2.default.string,\n  labelPlacement: _propTypes2.default.string,\n  children: _propTypes2.default.any,\n  status: _propTypes2.default.string,\n  size: _propTypes2.default.string,\n  progressDot: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.func]),\n  style: _propTypes2.default.object,\n  current: _propTypes2.default.number\n};\nSteps.defaultProps = {\n  prefixCls: 'rc-steps',\n  iconPrefix: 'rc',\n  direction: 'horizontal',\n  labelPlacement: 'horizontal',\n  current: 0,\n  status: 'process',\n  size: '',\n  progressDot: false\n};\nexports.default = Steps;"},"hash":"ae1c4bcbc2b17e6309263b1766312703"}
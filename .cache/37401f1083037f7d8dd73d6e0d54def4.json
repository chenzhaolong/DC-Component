{"dependencies":[{"name":"babel-runtime/helpers/defineProperty","loc":{"line":1,"column":28}},{"name":"babel-runtime/helpers/extends","loc":{"line":2,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":3,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":4,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":5,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":6,"column":22}},{"name":"react","loc":{"line":7,"column":23}},{"name":"react-dom","loc":{"line":8,"column":26}},{"name":"prop-types","loc":{"line":9,"column":22}},{"name":"classnames","loc":{"line":10,"column":23}},{"name":"rc-animate","loc":{"line":11,"column":20}},{"name":"rc-util/es/PureRenderMixin","loc":{"line":12,"column":28}},{"name":"../grid/row","loc":{"line":13,"column":16}},{"name":"../grid/col","loc":{"line":14,"column":16}},{"name":"../_util/warning","loc":{"line":15,"column":20}},{"name":"./constants","loc":{"line":16,"column":49}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require(\"babel-runtime/helpers/defineProperty\");\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require(\"react\");\n\nvar React = _interopRequireWildcard(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar ReactDOM = _interopRequireWildcard(_reactDom);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require(\"classnames\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _rcAnimate = require(\"rc-animate\");\n\nvar _rcAnimate2 = _interopRequireDefault(_rcAnimate);\n\nvar _PureRenderMixin = require(\"rc-util/es/PureRenderMixin\");\n\nvar _PureRenderMixin2 = _interopRequireDefault(_PureRenderMixin);\n\nvar _row = require(\"../grid/row\");\n\nvar _row2 = _interopRequireDefault(_row);\n\nvar _col = require(\"../grid/col\");\n\nvar _col2 = _interopRequireDefault(_col);\n\nvar _warning = require(\"../_util/warning\");\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar FormItem = function (_React$Component) {\n  (0, _inherits3.default)(FormItem, _React$Component);\n\n  function FormItem() {\n    (0, _classCallCheck3.default)(this, FormItem);\n\n    // Resolve duplicated ids bug between different forms\n    // https://github.com/ant-design/ant-design/issues/7351\n    var _this = (0, _possibleConstructorReturn3.default)(this, (FormItem.__proto__ || Object.getPrototypeOf(FormItem)).apply(this, arguments));\n\n    _this.onLabelClick = function () {\n      var id = _this.props.id || _this.getId();\n      if (!id) {\n        return;\n      }\n      var controls = document.querySelectorAll('[id=\"' + id + '\"]');\n      if (controls.length !== 1) {\n        var control = ReactDOM.findDOMNode(_this).querySelector('[id=\"' + id + '\"]');\n        if (control && control.focus) {\n          control.focus();\n        }\n      }\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(FormItem, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      (0, _warning2.default)(this.getControls(this.props.children, true).length <= 1, '`Form.Item` cannot generate `validateStatus` and `help` automatically, ' + 'while there are more than one `getFieldDecorator` in it.');\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _PureRenderMixin2.default.shouldComponentUpdate.apply(this, args);\n    }\n  }, {\n    key: 'getHelpMsg',\n    value: function getHelpMsg() {\n      var props = this.props;\n      var onlyControl = this.getOnlyControl();\n      if (props.help === undefined && onlyControl) {\n        var errors = this.getField().errors;\n        return errors ? errors.map(function (e) {\n          return e.message;\n        }).join(', ') : '';\n      }\n      return props.help;\n    }\n  }, {\n    key: 'getControls',\n    value: function getControls(children, recursively) {\n      var controls = [];\n      var childrenArray = React.Children.toArray(children);\n      for (var i = 0; i < childrenArray.length; i++) {\n        if (!recursively && controls.length > 0) {\n          break;\n        }\n        var child = childrenArray[i];\n        if (child.type && (child.type === FormItem || child.type.displayName === 'FormItem')) {\n          continue;\n        }\n        if (!child.props) {\n          continue;\n        }\n        if (_constants.FIELD_META_PROP in child.props) {\n          controls.push(child);\n        } else if (child.props.children) {\n          controls = controls.concat(this.getControls(child.props.children, recursively));\n        }\n      }\n      return controls;\n    }\n  }, {\n    key: 'getOnlyControl',\n    value: function getOnlyControl() {\n      var child = this.getControls(this.props.children, false)[0];\n      return child !== undefined ? child : null;\n    }\n  }, {\n    key: 'getChildProp',\n    value: function getChildProp(prop) {\n      var child = this.getOnlyControl();\n      return child && child.props && child.props[prop];\n    }\n  }, {\n    key: 'getId',\n    value: function getId() {\n      return this.getChildProp('id');\n    }\n  }, {\n    key: 'getMeta',\n    value: function getMeta() {\n      return this.getChildProp(_constants.FIELD_META_PROP);\n    }\n  }, {\n    key: 'getField',\n    value: function getField() {\n      return this.getChildProp(_constants.FIELD_DATA_PROP);\n    }\n  }, {\n    key: 'renderHelp',\n    value: function renderHelp() {\n      var prefixCls = this.props.prefixCls;\n      var help = this.getHelpMsg();\n      var children = help ? React.createElement('div', { className: prefixCls + '-explain', key: 'help' }, help) : null;\n      return React.createElement(_rcAnimate2.default, { transitionName: 'show-help', component: '', transitionAppear: true, key: 'help' }, children);\n    }\n  }, {\n    key: 'renderExtra',\n    value: function renderExtra() {\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          extra = _props.extra;\n\n      return extra ? React.createElement('div', { className: prefixCls + '-extra' }, extra) : null;\n    }\n  }, {\n    key: 'getValidateStatus',\n    value: function getValidateStatus() {\n      var onlyControl = this.getOnlyControl();\n      if (!onlyControl) {\n        return '';\n      }\n      var field = this.getField();\n      if (field.validating) {\n        return 'validating';\n      }\n      if (field.errors) {\n        return 'error';\n      }\n      var fieldValue = 'value' in field ? field.value : this.getMeta().initialValue;\n      if (fieldValue !== undefined && fieldValue !== null && fieldValue !== '') {\n        return 'success';\n      }\n      return '';\n    }\n  }, {\n    key: 'renderValidateWrapper',\n    value: function renderValidateWrapper(c1, c2, c3) {\n      var props = this.props;\n      var onlyControl = this.getOnlyControl;\n      var validateStatus = props.validateStatus === undefined && onlyControl ? this.getValidateStatus() : props.validateStatus;\n      var classes = '';\n      if (validateStatus) {\n        classes = (0, _classnames2.default)({\n          'has-feedback': props.hasFeedback || validateStatus === 'validating',\n          'has-success': validateStatus === 'success',\n          'has-warning': validateStatus === 'warning',\n          'has-error': validateStatus === 'error',\n          'is-validating': validateStatus === 'validating'\n        });\n      }\n      return React.createElement('div', { className: this.props.prefixCls + '-item-control ' + classes }, c1, c2, c3);\n    }\n  }, {\n    key: 'renderWrapper',\n    value: function renderWrapper(children) {\n      var _props2 = this.props,\n          prefixCls = _props2.prefixCls,\n          wrapperCol = _props2.wrapperCol;\n\n      var className = (0, _classnames2.default)(prefixCls + '-item-control-wrapper', wrapperCol && wrapperCol.className);\n      return React.createElement(_col2.default, (0, _extends3.default)({}, wrapperCol, { className: className, key: 'wrapper' }), children);\n    }\n  }, {\n    key: 'isRequired',\n    value: function isRequired() {\n      var required = this.props.required;\n\n      if (required !== undefined) {\n        return required;\n      }\n      if (this.getOnlyControl()) {\n        var meta = this.getMeta() || {};\n        var validate = meta.validate || [];\n        return validate.filter(function (item) {\n          return !!item.rules;\n        }).some(function (item) {\n          return item.rules.some(function (rule) {\n            return rule.required;\n          });\n        });\n      }\n      return false;\n    }\n  }, {\n    key: 'renderLabel',\n    value: function renderLabel() {\n      var _props3 = this.props,\n          prefixCls = _props3.prefixCls,\n          label = _props3.label,\n          labelCol = _props3.labelCol,\n          colon = _props3.colon,\n          id = _props3.id;\n\n      var context = this.context;\n      var required = this.isRequired();\n      var labelColClassName = (0, _classnames2.default)(prefixCls + '-item-label', labelCol && labelCol.className);\n      var labelClassName = (0, _classnames2.default)((0, _defineProperty3.default)({}, prefixCls + '-item-required', required));\n      var labelChildren = label;\n      // Keep label is original where there should have no colon\n      var haveColon = colon && !context.vertical;\n      // Remove duplicated user input colon\n      if (haveColon && typeof label === 'string' && label.trim() !== '') {\n        labelChildren = label.replace(/[ï¼š|:]\\s*$/, '');\n      }\n      return label ? React.createElement(_col2.default, (0, _extends3.default)({}, labelCol, { className: labelColClassName, key: 'label' }), React.createElement('label', { htmlFor: id || this.getId(), className: labelClassName, title: typeof label === 'string' ? label : '', onClick: this.onLabelClick }, labelChildren)) : null;\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren() {\n      var children = this.props.children;\n\n      return [this.renderLabel(), this.renderWrapper(this.renderValidateWrapper(children, this.renderHelp(), this.renderExtra()))];\n    }\n  }, {\n    key: 'renderFormItem',\n    value: function renderFormItem(children) {\n      var _itemClassName;\n\n      var props = this.props;\n      var prefixCls = props.prefixCls;\n      var style = props.style;\n      var itemClassName = (_itemClassName = {}, (0, _defineProperty3.default)(_itemClassName, prefixCls + '-item', true), (0, _defineProperty3.default)(_itemClassName, prefixCls + '-item-with-help', !!this.getHelpMsg()), (0, _defineProperty3.default)(_itemClassName, prefixCls + '-item-no-colon', !props.colon), (0, _defineProperty3.default)(_itemClassName, '' + props.className, !!props.className), _itemClassName);\n      return React.createElement(_row2.default, { className: (0, _classnames2.default)(itemClassName), style: style }, children);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.renderChildren();\n      return this.renderFormItem(children);\n    }\n  }]);\n\n  return FormItem;\n}(React.Component);\n\nexports.default = FormItem;\n\n\nFormItem.defaultProps = {\n  hasFeedback: false,\n  prefixCls: 'ant-form',\n  colon: true\n};\nFormItem.propTypes = {\n  prefixCls: _propTypes2.default.string,\n  label: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.node]),\n  labelCol: _propTypes2.default.object,\n  help: _propTypes2.default.oneOfType([_propTypes2.default.node, _propTypes2.default.bool]),\n  validateStatus: _propTypes2.default.oneOf(['', 'success', 'warning', 'error', 'validating']),\n  hasFeedback: _propTypes2.default.bool,\n  wrapperCol: _propTypes2.default.object,\n  className: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  children: _propTypes2.default.node,\n  colon: _propTypes2.default.bool\n};\nFormItem.contextTypes = {\n  vertical: _propTypes2.default.bool\n};"},"hash":"b341fdb2211e128d5c1e42e6709eb97c"}
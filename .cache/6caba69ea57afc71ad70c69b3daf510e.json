{"dependencies":[{"name":"babel-runtime/helpers/objectWithoutProperties","loc":{"line":1,"column":37}},{"name":"babel-runtime/helpers/extends","loc":{"line":2,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":3,"column":28}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":4,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":5,"column":22}},{"name":"rc-trigger","loc":{"line":6,"column":20}},{"name":"react","loc":{"line":7,"column":18}},{"name":"prop-types","loc":{"line":8,"column":22}},{"name":"classnames","loc":{"line":9,"column":23}},{"name":"./DropdownMenu","loc":{"line":10,"column":25}},{"name":"react-dom","loc":{"line":11,"column":21}},{"name":"./util","loc":{"line":12,"column":38}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _objectWithoutProperties2 = require(\"babel-runtime/helpers/objectWithoutProperties\");\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _rcTrigger = require(\"rc-trigger\");\n\nvar _rcTrigger2 = _interopRequireDefault(_rcTrigger);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require(\"classnames\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _DropdownMenu = require(\"./DropdownMenu\");\n\nvar _DropdownMenu2 = _interopRequireDefault(_DropdownMenu);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _util = require(\"./util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_rcTrigger2.default.displayName = 'Trigger';\n\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  }\n};\n\nvar SelectTrigger = function (_React$Component) {\n  (0, _inherits3.default)(SelectTrigger, _React$Component);\n\n  function SelectTrigger() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, SelectTrigger);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      dropdownWidth: null\n    }, _this.setDropdownWidth = function () {\n      var width = _reactDom2.default.findDOMNode(_this).offsetWidth;\n      if (width !== _this.state.dropdownWidth) {\n        _this.setState({ dropdownWidth: width });\n      }\n    }, _this.getInnerMenu = function () {\n      return _this.dropdownMenuRef && _this.dropdownMenuRef.menuRef;\n    }, _this.getPopupDOMNode = function () {\n      return _this.triggerRef.getPopupDomNode();\n    }, _this.getDropdownElement = function (newProps) {\n      var props = _this.props;\n      return _react2.default.createElement(_DropdownMenu2.default, (0, _extends3.default)({\n        ref: (0, _util.saveRef)(_this, 'dropdownMenuRef')\n      }, newProps, {\n        prefixCls: _this.getDropdownPrefixCls(),\n        onMenuSelect: props.onMenuSelect,\n        onMenuDeselect: props.onMenuDeselect,\n        onPopupScroll: props.onPopupScroll,\n        value: props.value,\n        firstActiveValue: props.firstActiveValue,\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\n        dropdownMenuStyle: props.dropdownMenuStyle\n      }));\n    }, _this.getDropdownTransitionName = function () {\n      var props = _this.props;\n      var transitionName = props.transitionName;\n      if (!transitionName && props.animation) {\n        transitionName = _this.getDropdownPrefixCls() + '-' + props.animation;\n      }\n      return transitionName;\n    }, _this.getDropdownPrefixCls = function () {\n      return _this.props.prefixCls + '-dropdown';\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  SelectTrigger.prototype.componentDidMount = function componentDidMount() {\n    this.setDropdownWidth();\n  };\n\n  SelectTrigger.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.setDropdownWidth();\n  };\n\n  SelectTrigger.prototype.render = function render() {\n    var _popupClassName;\n\n    var _props = this.props,\n        onPopupFocus = _props.onPopupFocus,\n        props = (0, _objectWithoutProperties3.default)(_props, ['onPopupFocus']);\n\n    var multiple = props.multiple,\n        visible = props.visible,\n        inputValue = props.inputValue,\n        dropdownAlign = props.dropdownAlign,\n        disabled = props.disabled,\n        showSearch = props.showSearch,\n        dropdownClassName = props.dropdownClassName,\n        dropdownStyle = props.dropdownStyle,\n        dropdownMatchSelectWidth = props.dropdownMatchSelectWidth;\n\n    var dropdownPrefixCls = this.getDropdownPrefixCls();\n    var popupClassName = (_popupClassName = {}, _popupClassName[dropdownClassName] = !!dropdownClassName, _popupClassName[dropdownPrefixCls + '--' + (multiple ? 'multiple' : 'single')] = 1, _popupClassName);\n    var popupElement = this.getDropdownElement({\n      menuItems: props.options,\n      onPopupFocus: onPopupFocus,\n      multiple: multiple,\n      inputValue: inputValue,\n      visible: visible\n    });\n    var hideAction = void 0;\n    if (disabled) {\n      hideAction = [];\n    } else if ((0, _util.isSingleMode)(props) && !showSearch) {\n      hideAction = ['click'];\n    } else {\n      hideAction = ['blur'];\n    }\n    var popupStyle = (0, _extends3.default)({}, dropdownStyle);\n    var widthProp = dropdownMatchSelectWidth ? 'width' : 'minWidth';\n    if (this.state.dropdownWidth) {\n      popupStyle[widthProp] = this.state.dropdownWidth + 'px';\n    }\n\n    return _react2.default.createElement(_rcTrigger2.default, (0, _extends3.default)({}, props, {\n      showAction: disabled ? [] : this.props.showAction,\n      hideAction: hideAction,\n      ref: (0, _util.saveRef)(this, 'triggerRef'),\n      popupPlacement: 'bottomLeft',\n      builtinPlacements: BUILT_IN_PLACEMENTS,\n      prefixCls: dropdownPrefixCls,\n      popupTransitionName: this.getDropdownTransitionName(),\n      onPopupVisibleChange: props.onDropdownVisibleChange,\n      popup: popupElement,\n      popupAlign: dropdownAlign,\n      popupVisible: visible,\n      getPopupContainer: props.getPopupContainer,\n      popupClassName: (0, _classnames2.default)(popupClassName),\n      popupStyle: popupStyle\n    }), props.children);\n  };\n\n  return SelectTrigger;\n}(_react2.default.Component);\n\nSelectTrigger.propTypes = {\n  onPopupFocus: _propTypes2.default.func,\n  onPopupScroll: _propTypes2.default.func,\n  dropdownMatchSelectWidth: _propTypes2.default.bool,\n  dropdownAlign: _propTypes2.default.object,\n  visible: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool,\n  showSearch: _propTypes2.default.bool,\n  dropdownClassName: _propTypes2.default.string,\n  multiple: _propTypes2.default.bool,\n  inputValue: _propTypes2.default.string,\n  filterOption: _propTypes2.default.any,\n  options: _propTypes2.default.any,\n  prefixCls: _propTypes2.default.string,\n  popupClassName: _propTypes2.default.string,\n  children: _propTypes2.default.any,\n  showAction: _propTypes2.default.arrayOf(_propTypes2.default.string)\n};\nexports.default = SelectTrigger;\n\n\nSelectTrigger.displayName = 'SelectTrigger';"},"hash":"f13458318b18a553efed2a1a0cf758a8"}
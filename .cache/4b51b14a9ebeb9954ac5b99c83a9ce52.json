{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":3,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":4,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":5,"column":22}},{"name":"react","loc":{"line":6,"column":23}},{"name":"prop-types","loc":{"line":7,"column":22}},{"name":"moment","loc":{"line":8,"column":24}},{"name":"rc-calendar/es/FullCalendar","loc":{"line":9,"column":25}},{"name":"../locale-provider/LocaleReceiver","loc":{"line":10,"column":27}},{"name":"./Constants","loc":{"line":11,"column":27}},{"name":"./Header","loc":{"line":12,"column":19}},{"name":"../_util/callMoment","loc":{"line":13,"column":23}},{"name":"./locale/en_US","loc":{"line":155,"column":33}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require(\"react\");\n\nvar React = _interopRequireWildcard(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = require(\"moment\");\n\nvar moment = _interopRequireWildcard(_moment);\n\nvar _FullCalendar = require(\"rc-calendar/es/FullCalendar\");\n\nvar _FullCalendar2 = _interopRequireDefault(_FullCalendar);\n\nvar _LocaleReceiver = require(\"../locale-provider/LocaleReceiver\");\n\nvar _LocaleReceiver2 = _interopRequireDefault(_LocaleReceiver);\n\nvar _Constants = require(\"./Constants\");\n\nvar _Header = require(\"./Header\");\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _callMoment = require(\"../_util/callMoment\");\n\nvar _callMoment2 = _interopRequireDefault(_callMoment);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction noop() {\n  return null;\n}\nfunction zerofixed(v) {\n  if (v < 10) {\n    return '0' + v;\n  }\n  return '' + v;\n}\n\nvar Calendar = function (_React$Component) {\n  (0, _inherits3.default)(Calendar, _React$Component);\n\n  function Calendar(props) {\n    (0, _classCallCheck3.default)(this, Calendar);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Calendar.__proto__ || Object.getPrototypeOf(Calendar)).call(this, props));\n\n    _this.monthCellRender = function (value) {\n      var _this$props = _this.props,\n          prefixCls = _this$props.prefixCls,\n          _this$props$monthCell = _this$props.monthCellRender,\n          monthCellRender = _this$props$monthCell === undefined ? noop : _this$props$monthCell;\n\n      return React.createElement('div', { className: prefixCls + '-month' }, React.createElement('div', { className: prefixCls + '-value' }, value.localeData().monthsShort(value)), React.createElement('div', { className: prefixCls + '-content' }, monthCellRender(value)));\n    };\n    _this.dateCellRender = function (value) {\n      var _this$props2 = _this.props,\n          prefixCls = _this$props2.prefixCls,\n          _this$props2$dateCell = _this$props2.dateCellRender,\n          dateCellRender = _this$props2$dateCell === undefined ? noop : _this$props2$dateCell;\n\n      return React.createElement('div', { className: prefixCls + '-date' }, React.createElement('div', { className: prefixCls + '-value' }, zerofixed(value.date())), React.createElement('div', { className: prefixCls + '-content' }, dateCellRender(value)));\n    };\n    _this.setValue = function (value, way) {\n      if (!('value' in _this.props)) {\n        _this.setState({ value: value });\n      }\n      if (way === 'select') {\n        if (_this.props.onSelect) {\n          _this.props.onSelect(value);\n        }\n      } else if (way === 'changePanel') {\n        _this.onPanelChange(value, _this.state.mode);\n      }\n    };\n    _this.setType = function (type) {\n      var mode = type === 'date' ? 'month' : 'year';\n      if (_this.state.mode !== mode) {\n        _this.setState({ mode: mode });\n        _this.onPanelChange(_this.state.value, mode);\n      }\n    };\n    _this.onHeaderValueChange = function (value) {\n      _this.setValue(value, 'changePanel');\n    };\n    _this.onHeaderTypeChange = function (type) {\n      _this.setType(type);\n    };\n    _this.onSelect = function (value) {\n      _this.setValue(value, 'select');\n    };\n    _this.renderCalendar = function (locale, localeCode) {\n      var state = _this.state,\n          props = _this.props;\n      var value = state.value,\n          mode = state.mode;\n\n      if (value && localeCode) {\n        value.locale(localeCode);\n      }\n      var prefixCls = props.prefixCls,\n          style = props.style,\n          className = props.className,\n          fullscreen = props.fullscreen,\n          dateFullCellRender = props.dateFullCellRender,\n          monthFullCellRender = props.monthFullCellRender;\n\n      var type = mode === 'year' ? 'month' : 'date';\n      var cls = className || '';\n      if (fullscreen) {\n        cls += ' ' + prefixCls + '-fullscreen';\n      }\n      var monthCellRender = monthFullCellRender || _this.monthCellRender;\n      var dateCellRender = dateFullCellRender || _this.dateCellRender;\n      return React.createElement('div', { className: cls, style: style }, React.createElement(_Header2.default, { fullscreen: fullscreen, type: type, value: value, locale: locale.lang, prefixCls: prefixCls, onTypeChange: _this.onHeaderTypeChange, onValueChange: _this.onHeaderValueChange }), React.createElement(_FullCalendar2.default, (0, _extends3.default)({}, props, { Select: noop, locale: locale.lang, type: type, prefixCls: prefixCls, showHeader: false, value: value, monthCellRender: monthCellRender, dateCellRender: dateCellRender, onSelect: _this.onSelect })));\n    };\n    var value = props.value || props.defaultValue || (0, _callMoment2.default)(moment);\n    if (!moment.isMoment(value)) {\n      throw new Error('The value/defaultValue of Calendar must be a moment object after `antd@2.0`, ' + 'see: https://u.ant.design/calendar-value');\n    }\n    _this.state = {\n      value: value,\n      mode: props.mode\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(Calendar, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        this.setState({\n          value: nextProps.value\n        });\n      }\n    }\n  }, {\n    key: 'getDefaultLocale',\n    value: function getDefaultLocale() {\n      var locale = require('./locale/en_US');\n      return locale['default'] || locale;\n    }\n  }, {\n    key: 'onPanelChange',\n    value: function onPanelChange(value, mode) {\n      var onPanelChange = this.props.onPanelChange;\n\n      if (onPanelChange) {\n        onPanelChange(value, mode);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(_LocaleReceiver2.default, { componentName: 'Calendar', defaultLocale: this.getDefaultLocale }, this.renderCalendar);\n    }\n  }]);\n\n  return Calendar;\n}(React.Component);\n\nexports.default = Calendar;\n\n\nCalendar.defaultProps = {\n  locale: {},\n  fullscreen: true,\n  prefixCls: _Constants.PREFIX_CLS,\n  mode: 'month',\n  onSelect: noop,\n  onPanelChange: noop\n};\nCalendar.propTypes = {\n  monthCellRender: _propTypes2.default.func,\n  dateCellRender: _propTypes2.default.func,\n  monthFullCellRender: _propTypes2.default.func,\n  dateFullCellRender: _propTypes2.default.func,\n  fullscreen: _propTypes2.default.bool,\n  locale: _propTypes2.default.object,\n  prefixCls: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  style: _propTypes2.default.object,\n  onPanelChange: _propTypes2.default.func,\n  value: _propTypes2.default.object,\n  onSelect: _propTypes2.default.func\n};"},"hash":"b0f640edae5bb6216f6c6ce87afcfff2"}